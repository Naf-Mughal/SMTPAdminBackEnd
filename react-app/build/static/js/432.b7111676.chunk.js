"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[432],{9432:(e,n,s)=>{s.r(n),s.d(n,{default:()=>k});var t=s(9950),i=s(6491),r=s(5769),a=s(4075),c=s(1671),l=s(1320),d=s(9780),o=s(4193),u=s(9213),h=s(7251),m=s(2053),x=s(2235),p=s(1295),j=s(8429),v=s(7108),A=s(2875),g=s(4414);function f(e,n,s){return n[s]<e[s]?-1:n[s]>e[s]?1:0}const b=[{id:"id",label:"User Id"},{id:"username",label:"User's Name"},{id:"actions",label:"Actions"}];function w(e){const{order:n,orderBy:s,onRequestSort:t}=e;return(0,g.jsx)(d.A,{children:(0,g.jsx)(u.A,{children:b.map((e=>{return(0,g.jsx)(c.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:s===e.id&&n,children:(0,g.jsxs)(h.A,{active:s===e.id,direction:s===e.id?n:"asc",onClick:(r=e.id,e=>{t(e,r)}),children:[e.label,s===e.id?(0,g.jsx)(i.A,{component:"span",sx:p.A,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))})})}function k(){const e=(0,j.Zp)(),[n,s]=t.useState("asc"),[d,h]=t.useState("calories"),[p,b]=t.useState([]),[k,S]=t.useState(0),[C,y]=t.useState(5),[P,N]=t.useState([]),[R,U]=t.useState([]),z=e=>{var n,s=Number(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)||e;y(s),S(0)};const q=k>0?Math.max(0,(1+k)*C-P.length):0;var B=t.useMemo((()=>function(e,n){const s=e.map(((e,n)=>[e,n]));return s.sort(((e,s)=>{const t=n(e[0],s[0]);return 0!==t?t:e[1]-s[1]})),s.map((e=>e[0]))}(P,function(e,n){return"desc"===e?(e,s)=>f(e,s,n):(e,s)=>-f(e,s,n)}(n,d)).slice(k*C,k*C+C)),[n,d,k,C]);return t.useEffect((()=>{!async function(){try{var e=[];await v.A.get("http://vmi2000569.contaboserver.net:4000/api/users").then((n=>{var s;null===n||void 0===n||null===(s=n.data)||void 0===s||s.forEach(((n,s)=>{e.push({id:s+1,username:n.username,links:n.links})}))})),N(e),z(10)}catch(n){}}()}),[]),200===R&&(e(0),U(0)),(0,g.jsx)(i.A,{sx:{width:"100%"},children:(0,g.jsxs)(x.A,{sx:{width:"100%",mb:2,mt:2},children:[(0,g.jsx)("div",{className:"flex justify-between items-center h-20 px-4",children:(0,g.jsx)(m.A,{sx:{flex:"1 1 100%"},variant:"h2",id:"tableTitle",component:"div",children:"Users"})}),(0,g.jsx)(l.A,{children:(0,g.jsxs)(r.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,g.jsx)(w,{numSelected:p.length,order:n,orderBy:d,onSelectAllClick:e=>{if(e.target.checked){const e=P.map((e=>e.id));b(e)}else b([])},onRequestSort:(e,t)=>{s(d===t&&"asc"===n?"desc":"asc"),h(t)},rowCount:P.length}),(0,g.jsxs)(a.A,{children:[B.map(((e,n)=>(0,g.jsxs)(u.A,{tabIndex:-1,children:[(0,g.jsx)(c.A,{component:"th",scope:"row",children:e.id}),(0,g.jsx)(c.A,{children:e.username}),(0,g.jsx)(c.A,{children:(0,g.jsx)("div",{className:"flex gap-2 items-center",children:(0,g.jsx)(A.RCe,{className:"w-5 h-5 cursor-pointer text-red-600",onClick:n=>{!async function(e,n){e.preventDefault(),await v.A.post("http://vmi2000569.contaboserver.net:4000/api/delUser",{username:n.username,links:n.links}).then((e=>{location.reload()}))}(n,e)}})})})]},e.id))),q>0&&(0,g.jsx)(u.A,{style:{height:53*q},children:(0,g.jsx)(c.A,{colSpan:6})})]})]})}),(0,g.jsx)(o.A,{rowsPerPageOptions:[5,10,25],component:"div",count:P.length,rowsPerPage:C,page:k,onPageChange:(e,n)=>{S(n)},onRowsPerPageChange:z})]})})}}}]);