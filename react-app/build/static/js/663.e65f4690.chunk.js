"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[663],{6663:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var i=t(9950),r=t(6491),s=t(5769),l=t(4075),a=t(1671),c=t(1320),o=t(9780),d=t(4193),u=t(9213),h=t(7251),x=t(2053),p=t(2235),m=t(1295),g=t(8429),j=t(4497),f=t(4414);function b(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}const v=[{id:"id",label:"Link Id"},{id:"linkUrl",label:"Link Url"},{id:"imgUrl",label:"Logo"},{id:"actions",label:"Actions"}];function A(e){const{order:n,orderBy:t,onRequestSort:i}=e;return(0,f.jsx)(o.A,{children:(0,f.jsx)(u.A,{children:v.map((e=>{return(0,f.jsx)(a.A,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:t===e.id&&n,children:(0,f.jsxs)(h.A,{active:t===e.id,direction:t===e.id?n:"asc",onClick:(s=e.id,e=>{i(e,s)}),children:[e.label,t===e.id?(0,f.jsx)(r.A,{component:"span",sx:m.A,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var s}))})})}function k(){const e=(0,g.Zp)(),[n,t]=i.useState("asc"),[o,h]=i.useState("calories"),[m,v]=i.useState([]),[k,w]=i.useState(0),[y,S]=i.useState(10),[U,C]=i.useState([]),[P,E]=i.useState([]),N=e=>{var n,t=Number(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)||e;S(t),w(0)};const z=k>0?Math.max(0,(1+k)*y-U.length):0;var D=i.useMemo((()=>function(e,n){const t=e.map(((e,n)=>[e,n]));return t.sort(((e,t)=>{const i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t.map((e=>e[0]))}(U,function(e,n){return"desc"===e?(e,t)=>b(e,t,n):(e,t)=>-b(e,t,n)}(n,o)).slice(k*y,k*y+y)),[n,o,k,y]);return i.useEffect((()=>{!async function(){try{const n=await(await fetch("http://vmi2000569.contaboserver.net:4000/api/getlinks").then()).json();var e=[];n.forEach(((n,t)=>{e.push({id:t+1,linkUrl:n.linkUrl,imgUrl:null===n||void 0===n?void 0:n.imgUrl})})),C(e),N(5)}catch(n){throw n}}()}),[]),200===P&&(e(0),E(0)),(0,f.jsx)(r.A,{sx:{width:"100%"},children:(0,f.jsxs)(p.A,{sx:{width:"100%",mb:2},children:[(0,f.jsxs)("div",{className:"flex justify-between items-center h-20 px-4",children:[(0,f.jsx)(x.A,{sx:{flex:"1 1 100%"},variant:"h2",id:"tableTitle",component:"div",children:"Smtp Emails"}),(0,f.jsxs)("button",{className:"text-white bg-[#142733] flex justify-center items-center text-xl gap-4 border w-[180px] rounded-md border-transparent px-4 py-2",onClick:e=>{!async function(e){e.preventDefault();try{const e=await fetch("http://vmi2000569.contaboserver.net:4000/api/links"),n=await e.json();for(let t=0;t<n.length;t++)setTimeout((()=>{const e=document.createElement("a");e.style.display="none",e.href=n[t].linkUrl,e.target="_blank",document.body.appendChild(e),e.click(),e.remove()}),1250*t)}catch(n){throw n}}(e)},children:["Open All",(0,f.jsx)(j.ApK,{})]})]}),(0,f.jsx)(c.A,{children:(0,f.jsxs)(s.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,f.jsx)(A,{numSelected:m.length,order:n,orderBy:o,onSelectAllClick:e=>{if(e.target.checked){const e=U.map((e=>e.id));v(e)}else v([])},onRequestSort:(e,i)=>{t(o===i&&"asc"===n?"desc":"asc"),h(i)},rowCount:U.length}),(0,f.jsxs)(l.A,{children:[D.map(((e,n)=>(0,f.jsxs)(u.A,{tabIndex:-1,children:[(0,f.jsx)(a.A,{component:"th",scope:"row",children:e.id}),(0,f.jsx)(a.A,{children:e.linkUrl}),(0,f.jsx)(a.A,{children:(0,f.jsx)("img",{src:null===e||void 0===e?void 0:e.imgUrl,alt:""})}),(0,f.jsx)(a.A,{children:(0,f.jsxs)("button",{className:"text-white bg-[#142733] flex justify-center items-center text-xl gap-4 border rounded-md border-transparent px-4 py-2",onClick:n=>{!async function(e,n){e.preventDefault(),n&&window.open(n,"_blank").focus()}(n,e.linkUrl)},children:["Open",(0,f.jsx)(j.ApK,{})]})})]},e.id))),z>0&&(0,f.jsx)(u.A,{style:{height:53*z},children:(0,f.jsx)(a.A,{colSpan:6})})]})]})}),(0,f.jsx)(d.A,{rowsPerPageOptions:[5,10,25],component:"div",count:U.length,rowsPerPage:y,page:k,onPageChange:(e,n)=>{w(n)},onRowsPerPageChange:N})]})})}}}]);